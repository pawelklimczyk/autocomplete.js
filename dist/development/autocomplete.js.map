{"version":3,"sources":["src/autocomplete.ts"],"names":[],"mappings":"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","file":"dist/autocomplete.js","sourcesContent":["/*\n * Autocomplete.js v2.0.2\n * Developed by Baptiste Donaux\n * http://autocomplete-js.com\n * \n * Under MIT Licence\n * (c) 2016, Baptiste Donaux\n */\n\"use strict\";\n\ninterface Params {\n    // Custom params\n    Delay:        number;\n    EmptyMessage: string;\n    HttpHeaders:  Object;\n    HttpMethod:   string;\n    Limit:        number;\n    QueryArg:     string;\n    Url:          string;\n\n    // Keyboard mapping event\n    KeyboardMappings: { [_: string]: MappingEvent; };\n\n    // Workable elements\n    DOMResults: HTMLElement;\n    Request:    XMLHttpRequest;\n    Input:      Element;\n\n    // Workflow methods\n    _Blur:          any;\n    _EmptyMessage:  any;\n    _Focus:         any;\n    _Limit:         any;\n    _HttpMethod:    any;\n    _Open:          any;\n    _QueryArg:      any;\n    _Position:      any;\n    _Post:          any;\n    _Render:        any;\n    _Pre:           any;\n    _Select:        any;\n    _Url:           any;\n\n    // Internal item\n    $AjaxTimer:     number;\n    $Listeners:     { [_: string]: any; };\n}\n\ninterface MappingCondition {\n    Not: boolean;\n}\n\ninterface MappingConditionIs extends MappingCondition {\n    Is: number;\n}\n\ninterface MappingConditionRange extends MappingCondition {\n    From: number;\n    To: number;\n}\n\nenum ConditionOperator { AND, OR };\n\ninterface MappingEvent {\n    Conditions: MappingCondition[];\n    Callback: any;\n    Operator: ConditionOperator;\n}\n\ninterface ResponseItem {\n    Label: string;\n    Value: string;\n}\n \n/**\n * Core\n * \n * @class\n * @author Baptiste Donaux <baptiste.donaux@gmail.com> @baptistedonaux\n */\nclass AutoComplete {\n    static merge: any = function(): any {\n        var merge: any = {},\n            tmp: any;\n\n        for (var i = 0; i < arguments.length; i++) {\n            for (tmp in arguments[i]) {\n                merge[tmp] = arguments[i][tmp];\n            }\n        }\n\n        return merge;\n    };\n    static defaults: Params = {\n        Delay: 150,\n        EmptyMessage: \"No result here\",\n        HttpHeaders: {\n            \"Content-type\": \"application/x-www-form-urlencoded\"\n        },\n        Limit: 0,\n        HttpMethod: \"GET\",\n        QueryArg: \"q\",\n        Url: null,\n        \n        KeyboardMappings: {\n            \"Enter\": {\n                Conditions: [{\n                    Is: 13,\n                    Not: false\n                }],\n                Callback: function(event: KeyboardEvent) {\n                    if (this.DOMResults.getAttribute(\"class\").indexOf(\"open\") != -1) {\n                        var liActive = this.DOMResults.querySelector(\"li.active\");\n    \n                        if (liActive !== null) {\n                            this._Select(liActive);\n                            this.DOMResults.setAttribute(\"class\", \"autocomplete\");\n                        }\n\n                        // Cancel form send only if results element is open\n                        event.preventDefault();\n                    }\n                },\n                Operator: ConditionOperator.AND\n            },\n            \"KeyUpAndDown\": {\n                Conditions: [{\n                    Is: 38,\n                    Not: false\n                },\n                {\n                    Is: 40,\n                    Not: false\n                }],\n                Callback: function(event: KeyboardEvent) {\n                    var first = this.DOMResults.querySelector(\"li:first-child:not(.locked)\"),\n                        active = this.DOMResults.querySelector(\"li.active\");\n        \n                    if (active) {\n                        var currentIndex = Array.prototype.indexOf.call(active.parentNode.children, active),\n                            position = currentIndex + (event.keyCode - 39),\n                            lisCount = this.DOMResults.getElementsByTagName(\"li\").length;\n        \n                        if (position < 0) {\n                            position = lisCount - 1;\n                        } else if (position >= lisCount) {\n                            position = 0;\n                        }\n        \n                        active.setAttribute(\"class\", \"\");\n                        active.parentElement.childNodes.item(position).setAttribute(\"class\", \"active\");\n                    } else if (first) {\n                        first.setAttribute(\"class\", \"active\");\n                    }\n                },\n                Operator: ConditionOperator.OR\n            },\n            \"AlphaNum\": {\n                Conditions: [{\n                    Is: 13,\n                    Not: true\n                }, {\n                    From: 35,\n                    To: 40,\n                    Not: true\n                }],\n                Callback: function(event: KeyboardEvent) {\n                    var oldValue = this.Input.getAttribute(\"data-autocomplete-old-value\"),\n                        currentValue = this._Pre();\n    \n                    if (currentValue !== \"\") {\n                        if (!oldValue || currentValue != oldValue) {\n                            this.DOMResults.setAttribute(\"class\", \"autocomplete open\");\n                        }\n    \n                        AutoComplete.prototype.ajax(this, function() {\n                            if (this.Request.readyState == 4 && this.Request.status == 200) {\n                                this._Render(this._Post(this.Request.response));\n                                this._Open();\n                            }\n                        }.bind(this));\n                    }\n                },\n                Operator: ConditionOperator.AND\n            }\n        },\n\n        DOMResults: null,\n        Request: null,\n        Input: null,\n        \n        /**\n         * Return the message when no result returns\n         */\n        _EmptyMessage: function(): string {\n            var emptyMessage: string|boolean = \"\";\n\n            if (this.Input.hasAttribute(\"data-autocomplete-empty-message\")) {\n                emptyMessage = this.Input.getAttribute(\"data-autocomplete-empty-message\");\n            } else {\n                emptyMessage = this.EmptyMessage;\n            }\n\n            if (emptyMessage === false) {\n                emptyMessage = \"\";\n            }\n\n            return emptyMessage;\n        },\n        \n        /**\n         * Returns the maximum number of results \n         */\n        _Limit: function(): number {\n            var limit = this.Input.getAttribute(\"data-autocomplete-limit\");\n            \n            if (isNaN(limit)) {\n                return this.Limit;\n            }\n\n            return parseInt(limit);\n        },\n        \n        /**\n         * Returns the HHTP method to use \n         */\n        _HttpMethod: function(): string {\n            if (this.Input.hasAttribute(\"data-autocomplete-method\")) {\n                return this.Input.getAttribute(\"data-autocomplete-method\");\n            }\n\n            return this.HttpMethod;\n        },\n        \n        /**\n         * Returns the query param to use\n         */\n        _QueryArg: function(): string {\n            if (this.Input.hasAttribute(\"data-autocomplete-param-name\")) {\n                return this.Input.getAttribute(\"data-autocomplete-param-name\");\n            }\n\n            return this.QueryArg;\n        },\n        \n        /**\n         * Returns the URL to use for AJAX request\n         */\n        _Url: function(): string {\n            if (this.Input.hasAttribute(\"data-autocomplete\")) {\n                return this.Input.getAttribute(\"data-autocomplete\");\n            }\n\n            return this.Url;\n        },\n        \n        /**\n         * Manage the close \n         */\n        _Blur: function(now: boolean = false): void {\n            if (now) {\n                this.DOMResults.setAttribute(\"class\", \"autocomplete\");\n            } else {\n                var params = this;\n                setTimeout(function() {\n                    params._Blur(true);\n                }, 150);\n            }\n        },\n        \n        /**\n         * Manage the open \n         */\n        _Focus: function(): void {\n            var oldValue: string = this.Input.getAttribute(\"data-autocomplete-old-value\");\n\n            if (!oldValue || this.Input.value != oldValue) {\n                this.DOMResults.setAttribute(\"class\", \"autocomplete open\");\n            }\n        },\n        \n        /**\n         * Bind all results item if one result is opened\n         */\n        _Open: function(): void {\n            var params = this;\n            Array.prototype.forEach.call(this.DOMResults.getElementsByTagName(\"li\"), function(li) {\n                if (li.getAttribute(\"class\") != \"locked\") {\n                    li.onclick = function(event) {\n                        params._Select(li);\n                    };\n                }\n            });\n        },\n        \n        /**\n         * Position the results HTML element\n         */\n        _Position:function(): void {\n            this.DOMResults.setAttribute(\"class\", \"autocomplete\");\n            this.DOMResults.setAttribute(\"style\", \"top:\" + (this.Input.offsetTop + this.Input.offsetHeight) + \"px;left:\" + this.Input.offsetLeft + \"px;width:\" + this.Input.clientWidth + \"px;\");\n        },\n        \n        /**\n         * Execute the render of results DOM element\n         */\n        _Render: function(response: ResponseItem[]|string): void {\n            var ul: HTMLElement = document.createElement(\"ul\"),\n                li: HTMLElement = document.createElement(\"li\");\n            \n            if (typeof response == \"string\") {\n                if (response.length > 0) {\n                    this.DOMResults.innerHTML = response;\n                } else {\n                    var emptyMessage: string = this._EmptyMessage();\n                    if (emptyMessage !== \"\") {\n                        li.innerHTML = emptyMessage;\n                        li.setAttribute(\"class\", \"locked\");\n                        ul.appendChild(li);\n                    }\n                }\n            } else {\n                // Order\n                if (this._Limit() < 0) {\n                    response = response.reverse();\n                }\n\n                for (var item = 0; item < response.length; item++) {\n                    li.innerHTML = response[item].Label;\n                    li.setAttribute(\"data-autocomplete-value\", response[item].Value);\n                    \n                    ul.appendChild(li);\n                    li = document.createElement(\"li\");\n                }\n            }\n    \n            if (this.DOMResults.hasChildNodes()) {\n                this.DOMResults.removeChild(this.DOMResults.childNodes[0]);\n            }\n            \n            this.DOMResults.appendChild(ul);\n        },\n        \n        /**\n         * Deal with request response\n         */\n        _Post: function(response: string): ResponseItem[]|string {\n            try {\n                var returnResponse: ResponseItem[] = [];\n                \n                //JSON return\n                var json: string[]|Object = JSON.parse(response);\n\n                \n                if (Object.keys(json).length == 0) {\n                    return \"\";\n                }\n\n                if (Array.isArray(json)) {\n                    for (var i = 0 ; i < Object.keys(json).length; i++) {\n                        returnResponse[returnResponse.length] = { \"Value\": json[i], \"Label\": json[i] };\n                    }\n                } else {\n                    for (var value in json) {\n                        returnResponse.push({\n                            \"Value\": value,\n                            \"Label\": json[value]\n                        });\n                    }\n                }\n\n                return returnResponse;\n            } catch (event) {\n                //HTML return\n                return response;\n            }\n        },\n        \n        /**\n         * Return the autocomplete value to send (before request)\n         */\n        _Pre: function(): string {\n            return this.Input.value;\n        },\n        \n        /**\n         * Choice one result item\n         */\n        _Select: function(item: HTMLElement): void {\n            if (item.hasAttribute(\"data-autocomplete-value\")) {\n                this.Input.value = item.getAttribute(\"data-autocomplete-value\");\n            } else {\n                this.Input.value = item.innerHTML;\n            }\n            this.Input.setAttribute(\"data-autocomplete-old-value\", this.Input.value);\n        },\n\n        $AjaxTimer: null,\n        $Listeners: {},\n    };\n    \n    // Constructor\n    constructor(params: Object = {}, selector: any = \"[data-autocomplete]\") {\n        if (Array.isArray(selector)) {\n            selector.forEach(function(s: string) {\n                new AutoComplete(params, s);\n            });\n        } else if (typeof selector == \"string\") {\n            var elements: NodeList = document.querySelectorAll(selector);\n            Array.prototype.forEach.call(elements, function(input: HTMLElement) {\n                new AutoComplete(params, input);\n            });\n        } else {\n            AutoComplete.prototype.create(AutoComplete.merge(AutoComplete.defaults, params, {\n                DOMResults: document.createElement(\"div\"),\n            }), selector);\n        }\n    }\n\n    create(params: Params, element: HTMLElement): void {\n        params.Input = element;\n\n        if (params.Input.nodeName.match(/^INPUT$/i)\n            && (params.Input.hasAttribute(\"type\") === false || params.Input.getAttribute(\"type\").match(/^TEXT|SEARCH$/i)))\n        {\n            params.Input.setAttribute(\"autocomplete\", \"off\");\n            params._Position(params);\n            params.Input.parentNode.appendChild(params.DOMResults);\n\n            params.$Listeners[\"focus\"]    = params._Focus.bind(params);\n            params.$Listeners[\"keydown\"]  = AutoComplete.prototype.event.bind(null, params);\n            params.$Listeners[\"blur\"]     = params._Blur.bind(params);\n            params.$Listeners[\"position\"] = params._Position.bind(params);\n            params.$Listeners[\"destroy\"]  = AutoComplete.prototype.destroy.bind(null, params);\n\n            for (var event in params.$Listeners) {\n                params.Input.addEventListener(event, params.$Listeners[event]);\n            }\n        }\n    }\n\n    event(params: Params, event: KeyboardEvent): void {\n        for (var name in params.KeyboardMappings) {\n            var mapping: MappingEvent = AutoComplete.merge({\n                    Operator: ConditionOperator.AND\n                }, params.KeyboardMappings[name]),\n                match: boolean = ConditionOperator.AND == mapping.Operator;\n\n            mapping.Conditions.forEach(function(condition: {\n                From: number,\n                Is: number,\n                Not: boolean,\n                To: number\n            }) {\n                if ((match === true && mapping.Operator == ConditionOperator.AND) || (match === false && ConditionOperator.OR)) {\n                    condition = AutoComplete.merge({\n                        Not: false\n                    }, condition);\n\n                    // For MappingConditionIs object\n                    if (condition.hasOwnProperty(\"Is\")) {\n                        if (condition.Is == event.keyCode) {\n                            match = !condition.Not;\n                        } else {\n                            match = condition.Not;\n                        }\n                    }\n                    // For MappingConditionRange object\n                    else if (condition.hasOwnProperty(\"From\") && condition.hasOwnProperty(\"To\")) {\n                        if (event.keyCode >= condition.From && event.keyCode <= condition.To) {\n                            match = !condition.Not;\n                        } else {\n                            match = condition.Not;\n                        }\n                    }\n                }\n            });\n\n            if (match === true) {\n                mapping.Callback.bind(params, event)();\n            }\n        };\n    }\n\n    ajax(params: Params, callback: any, timeout: boolean = true): void {\n        if (params.$AjaxTimer) {\n            window.clearTimeout(params.$AjaxTimer);\n        }\n\n        if (timeout === true) {\n            params.$AjaxTimer = window.setTimeout(AutoComplete.prototype.ajax.bind(null, params, callback, false), params.Delay);\n        } else {\n            if (params.Request) {\n                params.Request.abort();\n            }\n            \n            var propertyHttpHeaders = Object.getOwnPropertyNames(params.HttpHeaders),\n                method      = params._HttpMethod(),\n                url         = params._Url(),\n                queryParams = params.QueryArg + \"=\" + params._Pre();\n\n            if (method.match(/^GET$/i)) {\n                url += \"?\" + queryParams;\n            }\n\n            params.Request = new XMLHttpRequest();\n            params.Request.open(method, url, true);\n\n            for (var i = propertyHttpHeaders.length - 1; i >= 0; i--) {\n                params.Request.setRequestHeader(propertyHttpHeaders[i], params.HttpHeaders[propertyHttpHeaders[i]]);\n            }\n\n            params.Request.onreadystatechange = callback;\n\n            params.Request.send(queryParams);\n        }\n    }\n\n    destroy(params: Params): void {\n        for (var event in params.$Listeners) {\n            params.Input.removeEventListener(event, params.$Listeners[event]);\n        }\n\n        params.DOMResults.parentNode.removeChild(params.DOMResults);\n    }\n}\n"]}